[
  {
    "id": "events.type=birth",
    "sourceType": "part",
    "facetFilter": "person",
    "groupFilter": "correspondents",
    "flagsFilter": 2,
    "titleFilter": "title",
    "partTypeFilter": "it.vedph.historical-events",
    "partRoleFilter": "role",
    "description": "The description",
    "source": "events[?type=='person.birth']",
    "children": [
      {
        "source": "eid",
        "output": {
          "nodes": {
            "event": "x:events/${.}"
          },
          "triples": [
            "?{event} a crm:E67_Birth",
            "?{event} P98_brought_into_life ${item}"
          ]
        }
      },
      {
        "source": "note",
        "output": {
          "nodes": {
            "note": "x:notes/n"
          },
          "triples": [ "?{event} crm:P3_has_note \"${.}\"" ]
        }
      },
      {
        "id": "events.chronotope",
        "source": "chronotope",
        "children": [
          {
            "source": "place",
            "output": {
              "nodes": {
                "place": "x:places/@{@.value}"
              },
              "triples": [
                "?{place} a crm:E53_Place",
                "?{event} P7_took_place_at ?{place}"
              ]
            }
          },
          {
            "source": "date",
            "macros": {
              "date_value": "date-value(@{.})",
              "date_text": "date-text(@{.})"
            },
            "output": {
              "nodes": {
                "timespan": "x:timespans/ts"
              },
              "triples": [
                "?{event} crm:P4_has_time_span ?timespan",
                "?{timespan} crm:P82_at_some_time_within \"?date_value\"^^xs:float",
                "?{timespan} crm:P87_is_identified_by \"?date_text\"@en"
              ]
            }
          }
        ]
      },
      {
        "name": "events=birth/related=mother",
        "source": "relatedEntities[?relation=='mother']",
        "output": {
          "nodes": {
            "mother": "x:persons/@{id}"
          },
          "triples": [ "?event P96_by_mother ?mother" ]
        }
      },
      {
        "name": "events=birth/related=father",
        "source": "relatedEntities[?relation=='father']",
        "output": {
          "nodes": {
            "father": "x:persons/@{id}"
          },
          "triples": [ "?event P97_by_father ?father" ]
        }
      }
    ]
  }
]
